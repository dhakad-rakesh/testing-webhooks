$(".enabled_market").on("click",function(){if(elem=$(this),confirm("Are you sure?")){id=elem.attr("data").split("_")[1],match_id=elem.attr("data-match-id");let e="/admin/markets/update_sport_market";visible=elem.is(":checked"),$.ajax({url:e,type:"PATCH",data:{sm_id:id,match_id:match_id,sport_market:{visible:visible}},success:function(e){toastr.success(e.message)},error:function(e){elem.parent().hasClass("checked")?elem.prop("checked",!1):elem.prop("checked",!0),elem.iCheck("update"),alert($.parseJSON(e.responseText).error)}})}else 1==$(this).prop("checked")?$(this).prop("checked",!1):$(this).prop("checked",!0)}),$(".priority-select").on("change",function(){const e="/admin/markets/update_sport_market",t=this,a=this.dataset.initialValue,s=this.dataset.sportMarketId,r=this.value,i={sm_id:s,sport_market:{priority:r}};$.ajax({type:"PATCH",url:e,data:i,success(e){t.dataset.initialValue=r,toastr.success(e.message)},error(){t.value=a,toastr.error("Can't change priority!")}})}),$(".pagination a").attr("data-remote","true");