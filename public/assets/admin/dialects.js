$(function(){$(".i-checks").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"}),$(".enabled_dialect").on("ifChanged",function(){elem=$(this),id=elem.attr("data").split("_")[1],url="/admin/dialects/"+id,enabled=elem.is(":checked"),$.ajax({url:url,type:"PATCH",data:{enabled:enabled,id:id},success:function(e){alert(e.message)},error:function(e){elem.parent().hasClass("checked")?elem.prop("checked",!1):elem.prop("checked",!0),elem.iCheck("update"),alert($.parseJSON(e.responseText).error)}})})});